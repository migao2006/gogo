<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ç”·å‹æ¨™æº–æ¸¬è©¦ï¼ˆè¶…ä¸ç§‘å­¸ç‰ˆï¼‰</title>
  <style>
    :root{
      --bg1:#0f172a; --bg2:#1e293b; --card:#0b1220cc; --text:#e5e7eb; --muted:#94a3b8;
      --accent:#22d3ee; --accent-2:#a78bfa; --ok:#34d399; --warn:#f59e0b;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: ui-sans-serif, -apple-system, "Noto Sans TC", "PingFang TC", "Microsoft JhengHei", Arial;
      color:var(--text);
      background: radial-gradient(1200px 800px at 10% -10%, #1b2a52 0%, transparent 60%),
                  radial-gradient(1200px 800px at 100% 0%, #18213d 0%, transparent 60%),
                  linear-gradient(160deg, var(--bg1), var(--bg2));
    }
    .wrap{max-width: 760px; margin: 6vh auto; padding: 24px;}
    .card{
      background: var(--card); backdrop-filter: blur(12px);
      border: 1px solid #23304a; border-radius: 18px; padding: 28px;
      box-shadow: 0 20px 60px rgba(0,0,0,.35);
    }
    h1{margin: 0 0 8px 0; font-size: clamp(22px, 3.2vw, 32px)}
    .sub{color:var(--muted); margin-bottom: 18px}
    .progress{height: 8px; background:#1f2b44; border-radius: 99px; overflow:hidden; margin: 12px 0 20px}
    .bar{height: 100%; width:0%; background: linear-gradient(90deg, var(--accent), var(--accent-2))}
    .q{font-size: clamp(18px, 2.6vw, 24px); margin: 6px 0 18px}
    .options{display:grid; gap:12px}
    .option{
      text-align:left; padding:14px 16px; border-radius:12px; border:1px solid #22304a;
      background:#0c1526; color:var(--text); cursor:pointer; transition:.18s transform, .18s border-color, .18s background;
    }
    .option:hover{transform: translateY(-1px); border-color:#2a3a5f; background:#0f1930}
    .option small{display:block; color:var(--muted)}
    .meta{display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin:18px 0 6px}
    .pill{font-size:12px; padding:6px 10px; border:1px dashed #2b3a5c; border-radius:999px; color:#cbd5e1}
    .footer{color:var(--muted); font-size:12px; text-align:center; margin-top:14px}
    .result{display:none; text-align:center; padding:20px 6px}
    .name{
      font-weight:800; font-size: clamp(32px, 5.6vw, 56px);
      background: linear-gradient(90deg, #60a5fa, #22d3ee, #a78bfa, #34d399);
      -webkit-background-clip:text; background-clip:text; color: transparent;
      letter-spacing: 2px; margin: 6px 0 8px
    }
    .tagline{color:#cbd5e1; font-size: 16px}
    .btns{display:flex; gap:10px; justify-content:center; margin-top:16px; flex-wrap:wrap}
    .btn{
      padding:10px 14px; border-radius:10px; border:1px solid #26406b; background:#0c1526; color:var(--text);
      cursor:pointer; transition:.18s; font-weight:600
    }
    .btn:hover{transform: translateY(-1px); background:#0f1b32}
    .btn.primary{border-color:transparent; background:linear-gradient(90deg, #06b6d4, #8b5cf6)}
    .confetti{position:fixed; inset:0; pointer-events:none; overflow:hidden}
    .piece{position:absolute; top:-20px; font-size: 20px; animation: fall linear forwards; opacity:.9}
    @keyframes fall{
      to{ transform: translateY(110vh) rotate(720deg); opacity: 1; }
    }
    @media (max-width:480px){ .wrap{padding:16px} .card{padding:20px} }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>ç”·å‹æ¨™æº–æ¸¬è©¦ï¼ˆè¶…ä¸ç§‘å­¸ç‰ˆï¼‰</h1>
      <div class="sub">æ¯é¡Œéƒ½å¾ˆä¸åš´è‚…ï¼›æ€éº¼é¸éƒ½ä¸€æ¨£å‰å¤§ã€‚è«‹å¾®ç¬‘ä½œç­”ã€‚</div>

      <div class="progress" aria-label="ä½œç­”é€²åº¦">
        <div id="bar" class="bar"></div>
      </div>

      <div id="quiz">
        <div class="meta">
          <span class="pill" id="pill">ç¬¬ 1 é¡Œ / å…± 6 é¡Œ</span>
          <span class="pill">ä¸»é¡Œï¼šå°ã€Œç”·å‹ã€çš„æ¨™æº–</span>
        </div>
        <div id="question" class="q">è¼‰å…¥ä¸­â€¦</div>
        <div id="options" class="options" role="group" aria-label="é¸é …"></div>
      </div>

      <div id="result" class="result" aria-live="polite" aria-atomic="true">
        <div style="font-size:14px; color:#94a3b8; margin-bottom:6px">æ¸¬é©—çµæœï¼š</div>
        <div class="name">æ–½å®å ‰</div>
        <div class="tagline">æœ€ä½³ç”·å‹äººé¸ãƒ»å…¨ç¥¨é€šéï¼ˆå› ç‚ºé¡Œç›®æœ¬ä¾†å°±åå¿ƒï¼‰</div>
        <div class="btns">
          <button class="btn primary" id="shareBtn">åˆ†äº«çµæœ</button>
          <button class="btn" id="retryBtn">é‡æ–°æ¸¬é©—</button>
        </div>
        <div id="redirectNote" class="footer">å°‡æ–¼ 1 ç§’å¾Œè‡ªå‹•è·³è½‰è‡³ Instagramâ€¦</div>
      </div>

      <div class="footer">â€» ç´”å±¬å¨›æ¨‚ï¼Œä¸ä»£è¡¨ä»»ä½•ç¾å¯¦ä¸–ç•Œçš„åš´è‚…è©•åˆ†æ©Ÿåˆ¶ã€‚</div>
    </div>
  </div>
  <div id="confetti" class="confetti" aria-hidden="true"></div>

  <script>
    // ======== è¨­å®šï¼šçµæœå¾Œè‡ªå‹•è·³è½‰ ========
    const REDIRECT_URL = 'https://www.instagram.com/hongyu_03_09?igsh=MWMwZ3N2Y2F5a29nOA%3D%3D&utm_source=qr';
    const REDIRECT_DELAY = 1000; // 1 ç§’
    let redirectTimer = null;

    // ======== é¡Œåº«ï¼ˆå¯è‡ªè¡Œæ›´æ”¹ï¼‰ ========
    const QUESTIONS = [
      {
        q: "ç¬¬ä¸€é—œï¼šé²åˆ° 5 åˆ†é˜æœƒâ€¦",
        options: [
          ["è²·æ—©é¤è£œå„Ÿï¼Œé‚„é™„è²¼å¿ƒå°ç´™æ¢ã€‚", "ç¦®è²ŒåŠ åˆ†"],
          ["é èº¬é“æ­‰ 5 æ¬¡ï¼Œæ‰¿è«¾ä¸‹æ¬¡ææ—©å‡ºé–€ã€‚", "èª æ„ä¸éŒ¯"],
          ["æŠŠç½ªéæ¨çµ¦é¬§é˜ï¼Œé †ä¾¿æª¢è¨åœ°å¿ƒå¼•åŠ›ã€‚", "å‰µæ„åè¶³"],
          ["å¾ä¸é²åˆ°â€”â€”å› ç‚ºæˆ‘å°±æ˜¯å‚³èªªä¸­çš„æº–æ™‚ç‹ã€‚", "è‡ªä¿¡çˆ†æ£š"]
        ]
      },
      {
        q: "ç¬¬äºŒé—œï¼šç´€å¿µæ—¥çš„è™•ç†æ–¹å¼ï¼Ÿ",
        options: [
          ["è¡Œäº‹æ›† + ä¸‰é‡æé†’ + æ‰‹å¯«å¡ç‰‡ã€‚", "ç´°è†©æ´¾"],
          ["è‡¨å ´ç™¼æ®é©šå–œï¼Œä½†è¨˜å¾—è²·è›‹ç³•ã€‚", "æµªæ¼«æ´¾"],
          ["è¨˜ä¸å¾—æ—¥æœŸï¼Œä½†è¨˜å¾—äººè¶…é‡è¦ã€‚", "é‡é»æ­£ç¢º"],
          ["æŠŠæ¯ä¸€å¤©éƒ½éæˆç´€å¿µæ—¥ã€‚", "å“²å­¸å¤©æ‰"]
        ]
      },
      {
        q: "ç¬¬ä¸‰é—œï¼šåµæ¶æ™‚çš„é»˜å¥‘ï¼Ÿ",
        options: [
          ["å…ˆå€’æ°´ï¼Œå¾Œæºé€šï¼Œä¸è²¼æ¨™ç±¤ã€‚", "æˆç†Ÿå†·éœ"],
          ["å¯«å’Œè§£æ¢ç´„ï¼Œé›™æ–¹éƒ½èƒ½åŠ è¨»ä¿ç•™ã€‚", "æ³•æ²»ç²¾ç¥"],
          ["è²¼ä¸€å¼µã€æš«åœåµæ¶ 10 åˆ†é˜ã€çš„æç¬‘è²¼ç´™ã€‚", "å¯æ„›æ©Ÿåˆ¶"],
          ["ç›´æ¥æŠ•é™ï¼šã€æˆ‘æ‰¿èªä½ æ¯”è¼ƒå¯æ„›ã€‚ã€", "å‹™å¯¦æ´¾"]
        ]
      },
      {
        q: "ç¬¬å››é—œï¼šæ‰‹æ©Ÿå‰© 1% æ™‚æœƒå…ˆâ€¦",
        options: [
          ["æ‰¾æ’åº§ï¼Œé †ä¾¿å¹«ä½ æ‰‹æ©Ÿä¹Ÿå……ã€‚", "é›™å€è²¼å¿ƒ"],
          ["å•Ÿå‹•çœé›»æ¨¡å¼ + çœè©±æ¨¡å¼ã€‚", "æ•ˆç‡æ´¾"],
          ["æŠŠ 1% ç•¶ 100% ç”¨ï¼Œæ´»åœ¨é‚Šç·£çš„æµªæ¼«ã€‚", "æµªæ¼«æ´¾"],
          ["æ‹”ä¸‹æˆ‘çš„è¡Œå‹•é›»æºï¼Œåªç‚ºå®ˆè­·ä½ ã€‚", "è‹±é›„ä¸»ç¾©"]
        ]
      },
      {
        q: "ç¬¬äº”é—œï¼šè·¯ä¸Šé‡åˆ°å¯æ„›å°è²“æœƒâ€¦",
        options: [
          ["å…ˆè©¢å•æ˜¯å¦èƒ½æ‘¸ï¼Œå†ä¼¸æ‰‹ã€‚", "ç¦®è²Œè‡³ä¸Š"],
          ["æ‹åå¼µç…§ç‰‡å‚³çµ¦ä½ ã€‚", "åˆ†äº«ç‹‚"],
          ["å¹«ç‰ å–åã€éºµæ¢ã€ï¼Œç«‹åˆ»æˆç‚ºå®¶æ—ã€‚", "å‘½åå¤§å¸«"],
          ["å–µå–µå°è©± 3 å›åˆï¼Œçµäº¤æ–°æœ‹å‹ã€‚", "èªè¨€å¤©è³¦"]
        ]
      },
      {
        q: "ç¬¬å…­é—œï¼šå‡ºéŠé¢¨æ ¼åå¥½ï¼Ÿ",
        options: [
          ["ç²¾æº–è¡Œç¨‹è¡¨ + å½ˆæ€§è‡ªç”±æ™‚é–“ã€‚", "ç­–åŠƒç‹"],
          ["èªªèµ°å°±èµ°ï¼Œè¿·è·¯ä¹Ÿç®—é¢¨æ™¯ã€‚", "å†’éšªå®¶"],
          ["å…ˆæ‰¾ç¾é£Ÿï¼Œå†è«‡æ–‡åŒ–ã€‚", "å‹™å¯¦åƒè²¨"],
          ["å“ªè£¡æœ‰ä½ ï¼Œå“ªè£¡å°±æ˜¯ç›®çš„åœ°ã€‚", "è¶…æœƒè¬›è©±"]
        ]
      }
    ];

    // ======== ç‹€æ…‹ ========
    let step = 0;
    const total = QUESTIONS.length;

    // ======== å…ƒç´  ========
    const bar = document.getElementById('bar');
    const pill = document.getElementById('pill');
    const qEl = document.getElementById('question');
    const optsEl = document.getElementById('options');
    const quizEl = document.getElementById('quiz');
    const resultEl = document.getElementById('result');
    const shareBtn = document.getElementById('shareBtn');
    const retryBtn = document.getElementById('retryBtn');
    const confettiEl = document.getElementById('confetti');

    // ======== åˆå§‹åŒ– ========
    render();

    function render(){
      if(step < total){
        const { q, options } = QUESTIONS[step];
        pill.textContent = `ç¬¬ ${step+1} é¡Œ / å…± ${total} é¡Œ`;
        qEl.textContent = q;
        optsEl.innerHTML = "";
        options.forEach(([text, sub])=>{
          const b = document.createElement('button');
          b.className = 'option';
          b.innerHTML = `${escapeHtml(text)}<small>${escapeHtml(sub)}</small>`;
          b.addEventListener('click', ()=>next());
          optsEl.appendChild(b);
        });
        const pct = Math.round((step)/total*100);
        bar.style.width = pct + '%';
      }else{
        showResult();
      }
    }

    function next(){
      step++;
      if(step < total){
        microToast('æ”¶åˆ°ï¼ä¸‹ä¸€é¡Œ â†’');
      }
      render();
    }

    function showResult(){
      quizEl.style.display = 'none';
      resultEl.style.display = 'block';
      bar.style.width = '100%';
      launchConfetti();

      // æ›´æ–°æç¤ºæ–‡å­—ä¸¦æ–¼ 1 ç§’å¾Œè‡ªå‹•è·³è½‰
      const note = document.getElementById('redirectNote');
      note.textContent = `å°‡æ–¼ ${Math.round(REDIRECT_DELAY/1000)} ç§’å¾Œè‡ªå‹•è·³è½‰è‡³ Instagramâ€¦`;
      redirectTimer = setTimeout(()=>{
        location.href = REDIRECT_URL;
      }, REDIRECT_DELAY);
    }

    function microToast(msg){
      const t = document.createElement('div');
      t.textContent = msg;
      Object.assign(t.style, {
        position:'fixed', left:'50%', top:'14px', transform:'translateX(-50%)',
        background:'#0b1220', color:'#e5e7eb', border:'1px solid #22304a',
        padding:'8px 12px', borderRadius:'10px', zIndex:99, boxShadow:'0 8px 24px rgba(0,0,0,.35)', opacity:'0', transition:'.25s'
      });
      document.body.appendChild(t);
      requestAnimationFrame(()=>{ t.style.opacity='1'; });
      setTimeout(()=>{ t.style.opacity='0'; t.style.transform='translate(-50%, -4px)'; }, 900);
      setTimeout(()=> t.remove(), 1200);
    }

    // ======== åˆ†äº«ï¼é‡ä¾† ========
    shareBtn.addEventListener('click', async ()=>{
      const text = "æœ€ä½³ç”·å‹å°±æ˜¯ï¼šæ–½å®å ‰ âœ…ï¼ˆä¾†è‡ªã€Šç”·å‹æ¨™æº–æ¸¬è©¦ï¼šè¶…ä¸ç§‘å­¸ç‰ˆã€‹ï¼‰";
      try{
        if(navigator.share){
          await navigator.share({ title: "ç”·å‹æ¨™æº–æ¸¬è©¦", text });
        }else{
          await navigator.clipboard.writeText(text);
          microToast("å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿");
        }
      }catch(e){
        await navigator.clipboard.writeText(text);
        microToast("å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿");
      }
    });

    retryBtn.addEventListener('click', ()=>{
      // å–æ¶ˆæ—¢æœ‰çš„è·³è½‰è¨ˆæ™‚å™¨ï¼Œé¿å…èª¤è·³
      if (redirectTimer) {
        clearTimeout(redirectTimer);
        redirectTimer = null;
      }
      step = 0;
      resultEl.style.display = 'none';
      quizEl.style.display = 'block';
      confettiEl.innerHTML = '';
      bar.style.width = '0%';
      render();
    });

    // ======== æ¥µç°¡å½©å¸¶å‹•ç•«ï¼ˆè¡¨æƒ…ç‰ˆï¼‰ ========
    function launchConfetti(){
      const emojis = ['ğŸ‰','ğŸ’–','ğŸ¥³','âœ¨','ğŸ˜','ğŸŠ','ğŸ¥‡','ğŸ’«'];
      const pieces = 90;
      for(let i=0; i<pieces; i++){
        const s = document.createElement('span');
        s.className = 'piece';
        s.textContent = emojis[i % emojis.length];
        s.style.left = Math.random()*100 + 'vw';
        s.style.animationDuration = (6 + Math.random()*4) + 's';
        s.style.fontSize = (18 + Math.random()*12) + 'px';
        s.style.filter = `hue-rotate(${Math.floor(Math.random()*360)}deg)`;
        s.style.opacity = (0.7 + Math.random()*0.3);
        confettiEl.appendChild(s);
        setTimeout(()=> s.remove(), 11000);
      }
    }

    // ======== å®‰å…¨è½‰ç¾©ï¼ˆé¿å… XSS ç•°å¸¸ï¼‰ ========
    function escapeHtml(str){
      return String(str).replace(/[&<>"']/g, s=>({ "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;" }[s]));
    }
  </script>
</body>
</html>
